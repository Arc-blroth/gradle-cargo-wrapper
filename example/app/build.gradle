plugins {
    id 'application'
}

var mainClassName = 'ai.arcblroth.cargo.example.Main'

application {
    mainClass = mainClassName
}

configurations {
    // Declare a custom configuration to
    // resolve the library from :native
    backend {
        canBeConsumed false
        canBeResolved true
    }
}

dependencies {
    // Depend on our native code
    backend(project(':native'))
}

processResources {
    // Copy the native library into the final jar
    from(configurations.backend)
}

jar {
    manifest {
        attributes 'Main-Class': mainClassName
    }
}
